<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- 문제 1 -->
    <!-- 기본 css reset 세팅 -->
    <!-- 테이블 선은 1줄로 보이게 함 -->
    <!-- 테이블 안에 글과 선 사이 간격이 10px 씩 떨어지게 함. -->
    <style>
        table {
            border-collapse: collapse;
        } table td {
            padding: 10px;
        }
    </style>
<script>
    window.onload = function() {
        // 문제 2
        // 수량 입력란에는 초기값으로 1이 세팅되어 있음.
        var e1 = document.getElementById("d1"); e1.value = 1;
        var e2 = document.getElementById("d2"); e2.value = 1;
        var e3 = document.getElementById("d3"); e3.value = 1;

        document.getElementById("t1").value = e1.value*2500;
        document.getElementById("t2").value = e2.value*3000;
        document.getElementById("t3").value = e3.value*4500;

        // 문제 3
        // 수량을 입력하고 focus가 out 되면 합계 계산되어 표시됨.

        e1.onblur = update;
        e2.onblur = update;
        e3.onblur = update;

        function update() {
            var v1 = document.getElementById("d1").value;
            var v2 = document.getElementById("d2").value;
            var v3 = document.getElementById("d3").value;

            v1 = isNaN(v1) ? 0 : v1 * 1;
            v2 = isNaN(v2) ? 0 : v2 * 1;
            v3 = isNaN(v3) ? 0 : v3 * 1;

            // 이런식으로 하면 input의 value가 계속해서 String으로 취급된다.
            // var v1 = document.getElementById("d1");
            // var v2 = document.getElementById("d2");
            // var v3 = document.getElementById("d3");

            // v1.value = isNaN(v1.value) ? 0 : v1.value * 1;
            // v2.value = isNaN(v2.value) ? 0 : v2.value * 1;
            // v3.value = isNaN(v3.value) ? 0 : v3.value * 1;

            var t1 = v1 * 2500;
            var t2 = v2 * 3000;
            var t3 = v3 * 4500;

            t1 = isNaN(t1) ? 0 : parseInt(t1);
            t2 = isNaN(t2) ? 0 : parseInt(t2);
            t3 = isNaN(t3) ? 0 : parseInt(t3);

            document.getElementById('t1').value = t1;
            document.getElementById('t2').value = t2;
            document.getElementById('t3').value = t3;

            var totalC = v1 + v2 + v3;
            var totalP = t1 + t2 + t3;

            document.getElementById('totalC').value = totalC;
            document.getElementById('totalP').value = totalP;
        }
    }
</script>
</head>

<body>
<form action="#" method="get" id="frmCal">
    <table border="1">
        <tr>
            <th>재료</th>
            <th>단가</th>
            <th>수량</th>
            <th>합계</th>
        </tr>
        <tr>
            <td>당근</td>
            <td>2500원</td>
            <td><input type="text" id="d1"></td>
            <td><input type="text" id="t1"></td>
        </tr>
        <tr>
            <td>양파</td>
            <td>3000원</td>
            <td><input type="text" id="d2"></td>
            <td><input type="text" id="t2"></td>
        </tr>
        <tr>
            <td>고구마</td>
            <td>4500원</td>
            <td><input type="text" id="d3"></td>
            <td><input type="text" id="t3"></td>
        </tr>
        <tr>
            <th>합계</th>
            <th></th>
            <td><input type="text" id="totalC"></td>
            <td><input type="text" id="totalP"></td>
        </tr>
        <tr>
            <td colspan="4">
                <input type="button" value="계산하기">
                <input type="reset" value="초기화">
                <!-- 문제 4 -->
                <!-- 초기화 버튼을 만들고 누르면 입력한 데이터가 초기화됨. -->
            </td>
        </tr>
    </table>
</form>
</body>
</html>